<div class="side-bar">
  <div class="row">
    <div class="d-flex align-items-end flex-column">
      <button
        tooltip="Clique para criar uma nova regra"
        placement="top"
        [delay]="300"
        container="body"
        class="btn btn btn-outline-success mx-auto mt-100"
        (click)="createPasta()"
      >
        <span class="material-icons my-1">add</span>
      </button>
      <h3 class="text-center mx-auto mt-3">Regras:</h3>
      <ng-container *ngIf="display;else loading" >
      <accordion
        class="mt-3 acc-100"
        [isAnimated]="true"
        *ngFor="let pasta of pastas"
      >
        <accordion-group>
          <div class="btn btn-block row" accordion-heading type="button">
            <span
              (click)="deletePasta(pasta)"
              class="material-icons float-left color-red"
            >
              clear
            </span>
            <div class="text-center ">
              <span (dblclick)="editPasta(pasta)">{{ pasta.nome }}</span>
            </div>
          </div>
          <ul class="mx-auto">
            <ng-container *ngFor="let id of pasta['regras']">
              <li class="insideClass" (click)="edit(pasta, (getNomeRegra(id)).id)" *ngIf="getNomeRegra(id)">
                <span class="lista">{{ getNomeRegra(id).nome }}</span>
              </li>
            </ng-container>
            <li>
                <span
                  class="material-icons color-green mais"
                  tooltip="Adicionar regra"
                  placement="top"
                  [delay]="200"
                  container="body"
                  (click)="createRegra(pasta)"
                >
                  add
                </span>
            </li>
          </ul>
        </accordion-group>
      </accordion>
    </ng-container>
    </div>
  </div>
</div>
<ng-template #loading>
  <div class="d-flex justify-content-center col-12 mt-5">
    <span class="loader mt-3"></span>
  </div>
</ng-template>
