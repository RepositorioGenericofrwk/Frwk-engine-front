<div class="pt-4">
  <div class="container-fluid">
    <form
      autocomplete="off"
      class="form-horizontal mt-5"
      [formGroup]="formulario"
      (ngSubmit)="edicao ? edit() : save()"
      (change)="verificacao(formulario)"
    >
      <div class="form-row mt-5">
        <div class="col-md-6 mx-auto">
          <label class="control-label" for="Tipo">Nome: </label>
          <input
            autocomplete="off"
            type="text"
            class="form-control"
            name="nome"
            id="nome"
            required
            formControlName="nome"
          />
          <div
            class="alert alert-danger"
            *ngIf="formulario?.controls?.nome?.errors?.exist"
          >
            Essa identificação ja existe dentro desta pasta.
          </div>
        </div>
        <div class="col-md-6" *ngIf="regra">
          <label class="control-label" for="id">Id:</label>
          <input
            tooltip="Identificador usado na chamada e não pode ser alterado"
            placement="top"
            [delay]="200"
            container="body"
            readonly
            type="text"
            class="form-control text-center"
            name="id"
            id="id"
            required
            [value]="regra?.idregra"
          />
        </div>
      </div>
      <div class="form-row justify-content-around my-4">
      <div class="col mt-2 quadro mx-1 ">
        <h4>Entrada:</h4>
        <app-tipos
        required
          class="mx-5"
          [title]="'de ENTRADA'"
          name="entrada"
          formControlName="entrada"
          [formulario]="formulario"
          [(pastas)]="pastasModelos"
          [(objeto)]="objetoEntrada"
          (setArrayEmitter)="setarray($event, 'entrada')"
          (setModeloEmitter)="setModelo($event, 'entrada')"
          (setTypeEmitter)="setType($event, 'entrada')"
          ngDefaultControl
        ></app-tipos>
      </div>
      <div class="col mt-2 quadro mx-1">
        <h4>Saida:</h4>
      <app-tipos
      required
        class="mx-5"
        [title]="'de SAIDA'"
        name="saida"
        formControlName="saida"
        [formulario]="formulario"
        [(pastas)]="pastasModelos"
        [(objeto)]="objetoSaida"
        (setArrayEmitter)="setarray($event, 'saida')"
        (setModeloEmitter)="setModelo($event, 'saida')"
        (setTypeEmitter)="setType($event, 'saida')"
        ngDefaultControl
      ></app-tipos>
      </div>
    </div>
    <div class="alert alert-danger text-center"
        *ngIf="formulario?.errors?.atualizacao"
        >
          {{ 'A variável ' + (formulario.errors.atualizacao) + ' está desatualizada! '}}
        </div>
        <div class="alert alert-warning text-center"
        *ngIf="formulario?.errors?.alteracao"
        >
          {{ 'A variável ' + (formulario.errors.alteracao) + ' foi alterada atualize sua regra! '}}
      </div>
      <div class="d-flex justify-content-center mt-2">
        <button
          class="btn btn-outline-danger px-4  mx-4"
          *ngIf="edicao"
          (click)="excluir()"
          type="button"
        >
          Excluir
        </button>
        <button
          class="btn btn-outline-primary px-4  mx-4"
          *ngIf="edicao"
          (click)="testar()"
          type="button"
        >
          Testar
        </button>
        <button
          class="btn btn-outline-dark px-4  mx-4"
          type="submit"
          [disabled]="verificacao(formulario)"
        >
          Proximo
        </button>
      </div>
    </form>
  </div>
</div>
